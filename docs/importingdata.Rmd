---
title: "Importing Spatial Data"
output: 
  html_document:
    toc: true
    toc_depth: 4
    toc_float:
      collapsed: false
      smooth_scroll: false
---

<style>
.title{
  display: none;
}
body {
  text-align: justify
}
.center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}
</style>

```{css, echo=FALSE}
.watch-out {
  color: black;
}
```

```{r setup, include=FALSE}
# use rmarkdown::render_site(envir = knitr::knit_global())
knitr::opts_chunk$set(highlight = TRUE, echo = TRUE)
```

<br>

VoltRon includes built-in functions for converting readouts from a large selection of spatial omic instruments into R objects. In this tutorial, we will review each built-in function that is geared towards importing readouts of a specific spatial omic technology. 

# Importing Spatial Datasets

## Visium

```{r eval = FALSE, class.source="watch-out"}
library(VoltRon)
Vis_R1 <- importVisium("Visium/", sample_name = "VisiumR1")
```

```
VoltRon Object 
VisiumR1: 
  Layers: Section1 
Assays: Visium(Main) 
```

</br>

```{r eval = FALSE, class.source="watch-out"}
Vis_R1 <- importVisium("Visium/", sample_name = "VisiumR1", 
                       assay_name = "Visium_assay", image_name = "H&E_stain")
SampleMetadata(Vis_R1)
```

```
              Assay    Layer   Sample
Assay1 Visium_assay Section1 VisiumR1
```

```{r eval = FALSE, class.source="watch-out"}
vrImageNames(Vis_R1)
```

```
[1] "H&E_stain"
```

## Xenium

```{r eval = FALSE, class.source="watch-out"}
library(VoltRon)
Xen_R1 <- importXenium("Xenium_R1/outs", sample_name = "XeniumR1")
```

```
VoltRon Object 
XeniumR1: 
  Layers: Section1 
Assays: Xenium(Main) 
```

</br>

```{r eval = FALSE, class.source="watch-out"}
Xen_R1 <- importXenium("Xenium_R1/outs", sample_name = "XeniumR1", import_molecules = TRUE)
Xen_R1
```

```
VoltRon Object 
XeniumR1: 
  Layers: Section1 
Assays: Xenium(Main) Xenium_mol 
```

```{r eval = FALSE, class.source="watch-out"}
SampleMetadata(Xen_R1)
```

```
            Assay    Layer   Sample
Assay1     Xenium Section1 XeniumR1
Assay2 Xenium_mol Section1 XeniumR1
```

</br>

```{r eval = FALSE, class.source="watch-out"}
Xen_R1 <- importXenium("Xenium_R1/outs", sample_name = "XeniumR1", import_molecules = TRUE, 
                       resolution_level = 4, overwrite_resolution = TRUE)
vrImages(Xen_R1, assay = "Xenium")
```

```
# A tibble: 1 Ã— 7
  format width height colorspace matte filesize density
  <chr>  <int>  <int> <chr>      <lgl>    <int> <chr>  
1 PNG     4427   3222 Gray       FALSE        0 72x72  
```

</br>

```{r eval = FALSE, class.source="watch-out"}
Xen_R1 <- importXenium("Xenium_R1/outs", sample_name = "XeniumR1", import_molecules = TRUE, 
                       use_image = FALSE)
```

</br>

